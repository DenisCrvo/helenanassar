document.addEventListener('DOMContentLoaded', () => {
    const rsvpButton = document.getElementById('rsvp-btn');
    const rsvpFormArea = document.getElementById('form-area');
    const rsvpForm = document.getElementById('rsvp-form-submission');
    const formMessage = document.getElementById('form-message');

    // 1. Mostrar/Esconder o Formul치rio de RSVP ao clicar no bot칚o CTA
    rsvpButton.addEventListener('click', (event) => {
        event.preventDefault(); // Previne o comportamento padr칚o (ex: link)

        // Alterna a visibilidade do formul치rio
        if (rsvpFormArea.style.display === 'none' || rsvpFormArea.style.display === '') {
            rsvpFormArea.style.display = 'block';
            rsvpButton.textContent = 'Obrigado(a)! Agora preencha os dados abaixo.';
            rsvpButton.classList.add('cta-hidden'); // Adiciona classe para desativar/esconder o bot칚o ap칩s clique
            
            // Rola a tela para o formul치rio
            rsvpFormArea.scrollIntoView({ behavior: 'smooth' });

        } else {
            // Se j치 estiver aberto, apenas rola para a visualiza칞칚o
            rsvpFormArea.scrollIntoView({ behavior: 'smooth' });
        }
    });

    // 2. Simular o Envio do Formul치rio (No mundo real, voc칡 usaria Fetch API para enviar a um servidor ou Google Forms)
    rsvpForm.addEventListener('submit', (event) => {
        event.preventDefault();

        // Coleta dados (apenas para exibi칞칚o na simula칞칚o)
        const name = rsvpForm.querySelector('input[name="name"]').value;
        const adults = rsvpForm.querySelector('input[name="adults"]').value;
        const kids = rsvpForm.querySelector('input[name="kids"]').value;

        // Limpa os campos ap칩s a "simula칞칚o de envio"
        rsvpForm.reset();

        // Exibe mensagem de sucesso
        formMessage.textContent = `Confirma칞칚o de ${adults} adulto(s) e ${kids} crian칞a(s) enviada com sucesso para ${name}! Um abra칞o!`;
        
        // Esconde o formul치rio ap칩s 5 segundos e reseta o bot칚o
        setTimeout(() => {
            rsvpFormArea.style.display = 'none';
            formMessage.textContent = '';
            rsvpButton.textContent = '游녤 VOU ESCALAR ESTA MONTANHA PARA CELEBRAR! 游녣'; // Texto original do CTA
            rsvpButton.classList.remove('cta-hidden');
        }, 5000);
    });
});